# 使う側に苦労をさせない
例えばこんなbatファイルの記述
```bat
set exe_path="C:\Users\user\Documents\app.exe"
```
* exeファイルの置き場所が変わったらどうする？
* 別のユーザがこのbatファイルを欲しがったらどうする？
* こんな設定が随所にちりばめられていたら…？

例えばこんなbatファイルの記述
```bat
call hoge\fuga.bat
```
* このbatがhogeディレクトリと異なる階層に置かれた時はどうする？
* このbatをまったく異なる場所から呼び出したくなったらどうする？

環境に合わせてパスを書き換えて終わりとするのは簡単に見えるが、  
こんなケースが多発したら手間・リスクはバカにならなくなる。  
設定箇所が多いと全部確認するのは面倒くさいし、  
記述ミスしようものならアプリケーションがバグって問題の特定に無駄な時間を割くことになる。  
環境が変わっても、何もしなくてもアプリケーションが自動で対応してくれるのが望ましい。  
そんなベストプラクティスを考える。

## 絶対パスを自動取得してもらう
個人毎のパス設定はこのノリで省略できることが多い
```bat
rem batファイルの場合
set this_dir=%~dp0
set exe_path=%this_dir%\app.exe
```
```shell
# shellの場合
this_dir=$(dirname "${0}")
app_path="${this_dir}/app.sh"
```

## 実行場所を自動的に調整してもらう
アプリ内で相対パスを使うなら、100%有効にするためにやっておくべき。  
尚、アプリケーションが勝手にカレントディレクトリを変えたら、終わるときには元の状態に戻しておくのがお作法。  
```bat
rem batファイルの場合
pushd %~dp0
app.exe
popd
```

